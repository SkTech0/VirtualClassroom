<div class="room-list-container">
      <!-- Welcome Section -->
      <div class="welcome-section">
        <h1>Welcome to Virtual Classroom</h1>
        <p>Create or join study rooms to collaborate with others</p>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
        <mat-card class="action-card create-card">
          <mat-card-header>
            <mat-card-title>
              <mat-icon>add_circle</mat-icon>
              Create New Room
            </mat-card-title>
            <mat-card-subtitle>Start a new study session</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <form [formGroup]="createForm" (ngSubmit)="onCreateRoom()">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Subject/Topic</mat-label>
                <input matInput formControlName="subject" placeholder="e.g., Mathematics, Programming, etc." />
                <mat-icon matSuffix>school</mat-icon>
              </mat-form-field>
              <button mat-raised-button color="primary" type="submit" [disabled]="createForm.invalid || creating" class="full-width">
                <mat-spinner diameter="20" *ngIf="creating"></mat-spinner>
                <span *ngIf="!creating">Create Room</span>
              </button>
            </form>
          </mat-card-content>
        </mat-card>

        <mat-card class="action-card join-card">
          <mat-card-header>
            <mat-card-title>
              <mat-icon>group_add</mat-icon>
              Join Room
            </mat-card-title>
            <mat-card-subtitle>Enter an existing study room</mat-card-subtitle>
          </mat-card-header>
          <mat-card-content>
            <form [formGroup]="joinForm" (ngSubmit)="onJoinRoom()">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Room Code</mat-label>
                <input matInput formControlName="code" placeholder="e.g. ABC123 (6 characters)" maxlength="6" aria-describedby="room-code-hint" />
                <mat-icon matSuffix>meeting_room</mat-icon>
                <mat-hint id="room-code-hint">Letters or numbers; case doesn't matter</mat-hint>
              </mat-form-field>
              <button mat-raised-button color="accent" type="submit" [disabled]="joinForm.invalid || joining" class="full-width">
                <mat-spinner diameter="20" *ngIf="joining"></mat-spinner>
                <span *ngIf="!joining">Join Room</span>
              </button>
            </form>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Recent Rooms -->
      <div class="recent-rooms" *ngIf="rooms.length > 0">
        <h2>Recent Rooms</h2>
        <div class="rooms-grid">
          <mat-card class="room-card" *ngFor="let room of rooms" (click)="goToRoom(room.code)">
            <mat-card-header>
              <mat-card-title>{{ room.subject || 'Untitled Room' }}</mat-card-title>
              <mat-card-subtitle>
                <mat-icon>person</mat-icon>
                {{ room.hostUsername }}
              </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
              <div class="room-code">
                <mat-chip color="primary" selected>
                  <mat-icon>code</mat-icon>
                  {{ room.code }}
                </mat-chip>
              </div>
              <div class="room-participants" *ngIf="room.participantCount != null">
                <mat-icon class="participant-icon">group</mat-icon>
                <span>{{ room.participantCount }} {{ room.participantCount === 1 ? 'participant' : 'participants' }}</span>
              </div>
              <div class="room-status">
                <mat-chip [color]="room.isActive ? 'accent' : 'warn'" selected>
                  <mat-icon>{{ room.isActive ? 'radio_button_checked' : 'radio_button_unchecked' }}</mat-icon>
                  {{ room.isActive ? 'Active' : 'Inactive' }}
                </mat-chip>
              </div>
            </mat-card-content>
            <mat-card-actions>
              <button mat-button color="primary" (click)="goToRoom(room.code); $event.stopPropagation()">
                <mat-icon>enter</mat-icon>
                Enter Room
              </button>
              <button mat-button color="warn" (click)="leaveRoom(room.code); $event.stopPropagation()">
                <mat-icon>exit_to_app</mat-icon>
                Leave
              </button>
            </mat-card-actions>
          </mat-card>
        </div>
      </div>

      <!-- Empty State -->
      <div class="empty-state" *ngIf="rooms.length === 0 && !loading">
        <mat-card class="empty-card">
          <mat-card-content>
            <mat-icon class="empty-icon">meeting_room</mat-icon>
            <h3>No Rooms Yet</h3>
            <p>Create your first study room or join an existing one to get started!</p>
          </mat-card-content>
        </mat-card>
      </div>

      <!-- Loading State -->
      <div class="loading-state" *ngIf="loading">
        <mat-card class="loading-card">
          <mat-card-content>
            <mat-spinner diameter="50"></mat-spinner>
            <p>Loading your rooms...</p>
          </mat-card-content>
        </mat-card>
      </div>
    </div>